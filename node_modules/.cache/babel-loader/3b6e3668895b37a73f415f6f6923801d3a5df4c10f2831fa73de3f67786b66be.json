{"ast":null,"code":"import { onMounted, reactive, ref } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  setup() {\n    const tableData = reactive({\n      data: []\n    });\n    const store = useStore();\n    const getUsers = () => {\n      store.dispatch(\"app/getUsers\").then(response => {\n        console.log(response);\n        tableData.data = response.data;\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n    onMounted(() => {\n      getUsers();\n    });\n    return {\n      tableData\n    };\n  }\n};","map":{"version":3,"names":["onMounted","reactive","ref","useStore","setup","tableData","data","store","getUsers","dispatch","then","response","console","log","catch","err"],"sources":["D:\\graduate_design\\project\\movieweb\\MovieClient\\movieclient\\src\\views\\Admin\\UserManage\\index.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-table :data=\"tableData.data\" style=\"width: 100%\">\r\n            <el-table-column type=\"expand\">\r\n                <template #default=\"props\">\r\n                    <div m=\"4\">\r\n                        <p m=\"t-0 b-2\">\r\n                            <el-image :src=\"props.row.avatar\" fit=\"fit\">\r\n                                <template #error>\r\n                                    <div class=\"image-slot\">\r\n                                        <el-icon>\r\n                                            <WarningFilled />\r\n                                        </el-icon>\r\n                                    </div>\r\n                                </template>\r\n                            </el-image>\r\n                        </p>\r\n                        <p m=\"t-0 b-2\">用户名: {{ props.row.nick_name }}</p>\r\n                        <p m=\"t-0 b-2\">手机号码: {{ props.row.phone }}</p>\r\n                        <p m=\"t-0 b-2\">会员等级: <el-tag size=\"small\" type=\"danger\">\r\n                                {{ props.row.is_member == 0 ? \"普通会员\" : \"银卡会员\" }}</el-tag></p>\r\n                        <p m=\"t-0 b-2\">邮箱: {{ props.row.email }}\r\n                        </p>\r\n                        <p m=\"t-0 b-2\">注册时间: {{ formatTime(props.row.CreatedAt) }}</p>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"序号\" prop=\"ID\" />\r\n            <el-table-column label=\"账号\" prop=\"username\" />\r\n            <el-table-column label=\"操作\">\r\n                <template #default=\"props\">\r\n                    <el-button type=\"primary\" @click=\"editUser(props)\">编辑</el-button>\r\n                    <el-button type=\"danger\" @click=\"deleteUser(props)\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, reactive, ref } from 'vue';\r\nimport { useStore } from 'vuex';\r\n\r\n\r\n\r\nexport default {\r\n    setup() {\r\n\r\n        const tableData = reactive({\r\n            data: []\r\n        })\r\n        const store = useStore()\r\n        const getUsers = () => {\r\n            store.dispatch(\"app/getUsers\").then(response => {\r\n                console.log(response);\r\n                tableData.data = response.data\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        }\r\n        onMounted(() => {\r\n            getUsers()\r\n\r\n        })\r\n\r\n        return {\r\n            tableData,\r\n\r\n        };\r\n    },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.el-image {\r\n    padding: 0 5px;\r\n    max-width: 300px;\r\n    max-height: 200px;\r\n    width: 100px;\r\n    height: 100px;\r\n}\r\n\r\n.image-slot {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: var(--el-fill-color-light);\r\n    color: var(--el-text-color-secondary);\r\n    font-size: 30px;\r\n}\r\n\r\n.image-slot .el-icon {\r\n    font-size: 30px;\r\n}\r\n</style>"],"mappings":"AAyCA,SAASA,SAAS,EAAEC,QAAQ,EAAEC,GAAE,QAAS,KAAK;AAC9C,SAASC,QAAO,QAAS,MAAM;AAI/B,eAAe;EACXC,KAAKA,CAAA,EAAG;IAEJ,MAAMC,SAAQ,GAAIJ,QAAQ,CAAC;MACvBK,IAAI,EAAE;IACV,CAAC;IACD,MAAMC,KAAI,GAAIJ,QAAQ,CAAC;IACvB,MAAMK,QAAO,GAAIA,CAAA,KAAM;MACnBD,KAAK,CAACE,QAAQ,CAAC,cAAc,CAAC,CAACC,IAAI,CAACC,QAAO,IAAK;QAC5CC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;QACrBN,SAAS,CAACC,IAAG,GAAIK,QAAQ,CAACL,IAAG;MACjC,CAAC,CAAC,CAACQ,KAAK,CAACC,GAAE,IAAK;QACZH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC;MACpB,CAAC;IACL;IACAf,SAAS,CAAC,MAAM;MACZQ,QAAQ,CAAC;IAEb,CAAC;IAED,OAAO;MACHH;IAEJ,CAAC;EACL;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}