{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reactive } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\nimport { h } from 'vue';\nimport { ElNotification } from 'element-plus';\nimport { ElMessage } from 'element-plus';\nexport default {\n  name: \"Login\",\n  setup(props, context) {\n    const form = reactive({\n      username: \"\",\n      password: \"\"\n    });\n    const registerform = reactive({\n      username: \"\",\n      password: \"\",\n      repassword: \"\"\n    });\n    const route = useRoute();\n    const store = useStore();\n    const router = useRouter();\n    const Register = () => {\n      if (route.path == \"/login\") {\n        const data = {\n          \"username\": registerform.username,\n          \"password\": registerform.password\n        };\n        // 走用户\n        store.dispatch('login/Clientregister', data).then(Response => {\n          console.log(Response);\n          if (Response.code == 200) {\n            ElNotification({\n              title: '提示',\n              message: h('i', {\n                style: 'color: teal'\n              }, '注册成功，请登录')\n            });\n          } else {\n            ElNotification({\n              title: '提示',\n              message: h('i', {\n                style: 'color: teal'\n              }, '用户名已被注册')\n            });\n          }\n        }).catch(error => {\n          console.log(error);\n        });\n      } else if (route.path == \"/merchantlogin\") {\n        const data = {\n          \"merchant_name\": registerform.username,\n          \"password\": registerform.password\n        };\n        // 走商家\n        store.dispatch('login/Merchantregister', JSON.stringify(data)).then(Response => {\n          if (Response.code == 200) {\n            ElNotification({\n              title: '提示',\n              message: h('i', {\n                style: 'color: teal'\n              }, '注册成功，请登录')\n            });\n          } else {\n            ElNotification({\n              title: '提示',\n              message: h('i', {\n                style: 'color: teal'\n              }, '用户名已被注册')\n            });\n          }\n          console.log(Response.code);\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    };\n    const Login = () => {\n      if (route.path == \"/login\") {\n        const data = {\n          \"username\": form.username,\n          \"password\": form.password\n        };\n        // 走用户\n        store.dispatch('login/ClientLogin', data).then(Response => {\n          if (Response.code == 200) {\n            ElMessage({\n              message: '登录成功',\n              type: 'success'\n            });\n            router.push(\"/home\");\n          }\n          console.log(Response);\n        }).catch(error => {\n          console.log(error);\n        });\n      } else if (route.path == \"/merchantlogin\") {\n        const data = {\n          \"merchant_name\": form.username,\n          \"password\": form.password\n        };\n        // 走商家\n        store.dispatch('login/MerchantLogin', JSON.stringify(data)).then(Response => {\n          if (Response.code == 200) {\n            ElMessage({\n              message: '登录成功',\n              type: 'success'\n            });\n            router.push(\"/admin\");\n          }\n          console.log(Response);\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    };\n    return {\n      form,\n      registerform,\n      Register,\n      Login\n    };\n  }\n};","map":{"version":3,"names":["reactive","useRoute","useRouter","useStore","h","ElNotification","ElMessage","name","setup","props","context","form","username","password","registerform","repassword","route","store","router","Register","path","data","dispatch","then","Response","console","log","code","title","message","style","catch","error","JSON","stringify","Login","type","push"],"sources":["D:\\graduate_design\\project\\movieweb\\MovieClient\\movieclient\\src\\views\\Login\\index.vue"],"sourcesContent":["<template>\r\n    <div class=\"background-container \">\r\n        <el-menu :default-active=\"activeIndex2\" class=\"el-menu-demo\" mode=\"horizontal\" background-color=\"#344a5f\"\r\n            text-color=\"#fff\" active-text-color=\"#ffd04b\" @select=\"handleSelect\"></el-menu>\r\n        <div class=\"card\">\r\n            <el-tabs type=\"border-card\" stretch=\"true\" style=\"width: 350px;height: 350px;\">\r\n                <el-tab-pane label=\"登录\">\r\n                    <el-form :model=\"form\" label-width=\"auto\" label-position=\"left\" style=\"padding: 35px 0;\">\r\n                        <el-form-item label=\"用户名\" size=\"large\">\r\n                            <el-input v-model=\"form.username\" />\r\n                        </el-form-item>\r\n                        <el-form-item label=\"密码\" size=\"large\" style=\"margin-top: 30px;\">\r\n                            <el-input v-model=\"form.password\" />\r\n                        </el-form-item>\r\n\r\n                    </el-form>\r\n                    <div class=\"flex-container\">\r\n                        <el-button type=\"primary\" @click=\"Login\" style=\"width: 30%;\" size=\"large\">登录</el-button>\r\n                        <el-button type=\"success\" style=\"width: 30%;\" size=\"large\">重置</el-button>\r\n                    </div>\r\n                    <div style=\"text-align: center; font-size: 13px; color: aliceblue; padding: 20px 0;\"><router-link\r\n                            to=\"/\">返回首页</router-link></div>\r\n                </el-tab-pane>\r\n                <el-tab-pane label=\"注册\">\r\n                    <el-form :model=\"registerform\" label-width=\"auto\" label-position=\"left\" style=\"padding: 10px 0;\">\r\n                        <el-form-item label=\"用户名\" size=\"large\">\r\n                            <el-input v-model=\"registerform.username\" />\r\n                        </el-form-item>\r\n                        <el-form-item label=\"密码\" size=\"large\">\r\n                            <el-input v-model=\"registerform.password\" />\r\n                        </el-form-item>\r\n                        <el-form-item label=\"重复密码\" size=\"large\">\r\n                            <el-input v-model=\"registerform.repassword\" />\r\n                        </el-form-item>\r\n\r\n                    </el-form>\r\n                    <div class=\"flex-container\">\r\n                        <el-button type=\"primary\" @click=\"Register\" style=\"width: 30%;\" size=\"large\">注册</el-button>\r\n                        <el-button type=\"success\" style=\"width: 30%;\" size=\"large\">重置</el-button>\r\n                    </div>\r\n                    <div style=\"text-align: center; font-size: 13px; color: aliceblue; padding: 20px 0;\"><router-link\r\n                            to=\"/\">返回首页</router-link></div>\r\n                </el-tab-pane>\r\n\r\n            </el-tabs>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { reactive } from 'vue';\r\nimport { useRoute, useRouter } from 'vue-router';\r\nimport { useStore } from 'vuex';\r\nimport { h } from 'vue'\r\nimport { ElNotification } from 'element-plus'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nexport default {\r\n    name: \"Login\",\r\n    setup(props, context) {\r\n        const form = reactive({\r\n            username: \"\",\r\n            password: \"\"\r\n        })\r\n        const registerform = reactive({\r\n            username: \"\",\r\n            password: \"\",\r\n            repassword: \"\",\r\n\r\n        })\r\n        const route = useRoute()\r\n        const store = useStore()\r\n        const router = useRouter()\r\n\r\n        const Register = () => {\r\n            if (route.path == \"/login\") {\r\n                const data = {\r\n                    \"username\": registerform.username,\r\n                    \"password\": registerform.password\r\n                }\r\n                // 走用户\r\n                store.dispatch('login/Clientregister', data).then(Response => {\r\n                    console.log(Response);\r\n                    if (Response.code == 200) {\r\n                        ElNotification({\r\n                            title: '提示',\r\n                            message: h('i', { style: 'color: teal' }, '注册成功，请登录'),\r\n                        })\r\n                    } else {\r\n                        ElNotification({\r\n                            title: '提示',\r\n                            message: h('i', { style: 'color: teal' }, '用户名已被注册'),\r\n                        })\r\n                    }\r\n\r\n\r\n                }).catch(error => {\r\n                    console.log(error);\r\n                })\r\n\r\n            } else if (route.path == \"/merchantlogin\") {\r\n                const data = {\r\n                    \"merchant_name\": registerform.username,\r\n                    \"password\": registerform.password\r\n                }\r\n                // 走商家\r\n                store.dispatch('login/Merchantregister', JSON.stringify(data)).then(Response => {\r\n\r\n                    if (Response.code == 200) {\r\n                        ElNotification({\r\n                            title: '提示',\r\n                            message: h('i', { style: 'color: teal' }, '注册成功，请登录'),\r\n                        })\r\n                    } else {\r\n                        ElNotification({\r\n                            title: '提示',\r\n                            message: h('i', { style: 'color: teal' }, '用户名已被注册'),\r\n                        })\r\n                    }\r\n\r\n                    console.log(Response.code);\r\n\r\n                }).catch(error => {\r\n                    console.log(error);\r\n                })\r\n\r\n            }\r\n        }\r\n        const Login = () => {\r\n            if (route.path == \"/login\") {\r\n                const data = {\r\n                    \"username\": form.username,\r\n                    \"password\": form.password\r\n                }\r\n                // 走用户\r\n                store.dispatch('login/ClientLogin', data).then(Response => {\r\n                    if (Response.code == 200) {\r\n                        ElMessage({\r\n                            message: '登录成功',\r\n                            type: 'success',\r\n                        })\r\n                        router.push(\"/home\")\r\n                    }\r\n\r\n                    console.log(Response);\r\n\r\n\r\n                }).catch(error => {\r\n                    console.log(error);\r\n                })\r\n\r\n            } else if (route.path == \"/merchantlogin\") {\r\n                const data = {\r\n                    \"merchant_name\": form.username,\r\n                    \"password\": form.password\r\n                }\r\n                // 走商家\r\n                store.dispatch('login/MerchantLogin', JSON.stringify(data)).then(Response => {\r\n                    if (Response.code == 200) {\r\n                        ElMessage({\r\n                            message: '登录成功',\r\n                            type: 'success',\r\n                        })\r\n                        router.push(\"/admin\")\r\n                    }\r\n\r\n                    console.log(Response);\r\n\r\n                }).catch(error => {\r\n                    console.log(error);\r\n                })\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n        return {\r\n            form,\r\n            registerform,\r\n            Register,\r\n            Login\r\n        }\r\n\r\n    }\r\n\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.card {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 80vh;\r\n    margin: 0;\r\n\r\n\r\n}\r\n\r\n\r\n.flex-container {\r\n    text-align: center;\r\n\r\n}\r\n\r\n\r\n\r\n.background-container {\r\n    background-image: url(\"~@/assets/bg.png\") !important;\r\n\r\n    /* 替换成你想要设置的背景图片路径 */\r\n    background-size: cover;\r\n    height: 100vh;\r\n    /* 可以根据需要调整背景图片的尺寸适应 */\r\n    /* 可以添加其他样式属性，比如背景重复、定位等 */\r\n}\r\n</style>\r\n<style>\r\n.el-tabs {\r\n    background-color: rgba(255, 255, 255, 0.5) !important;\r\n    /* 设置背景颜色为白色，透明度为0.5 */\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}