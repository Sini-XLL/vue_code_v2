{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-aeba673c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"background-container\"\n};\nconst _hoisted_2 = {\n  class: \"card\"\n};\nconst _hoisted_3 = {\n  class: \"flex-container\"\n};\nconst _hoisted_4 = {\n  style: {\n    \"text-align\": \"center\",\n    \"font-size\": \"13px\",\n    \"color\": \"aliceblue\",\n    \"padding\": \"20px 0\"\n  }\n};\nconst _hoisted_5 = {\n  class: \"flex-container\"\n};\nconst _hoisted_6 = {\n  style: {\n    \"text-align\": \"center\",\n    \"font-size\": \"13px\",\n    \"color\": \"aliceblue\",\n    \"padding\": \"20px 0\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_el_tab_pane = _resolveComponent(\"el-tab-pane\");\n  const _component_el_tabs = _resolveComponent(\"el-tabs\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_tabs, {\n    type: \"border-card\",\n    stretch: \"true\",\n    style: {\n      \"width\": \"350px\",\n      \"height\": \"350px\"\n    }\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_tab_pane, {\n      label: \"登录\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form, {\n        model: $setup.form,\n        \"label-width\": \"auto\",\n        \"label-position\": \"left\",\n        style: {\n          \"padding\": \"35px 0\"\n        }\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_form_item, {\n          label: \"用户名\",\n          size: \"large\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $setup.form.username,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.form.username = $event)\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_form_item, {\n          label: \"密码\",\n          size: \"large\",\n          style: {\n            \"margin-top\": \"30px\"\n          }\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $setup.form.password,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.form.password = $event)\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"model\"]), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $setup.Login,\n        style: {\n          \"width\": \"30%\"\n        },\n        size: \"large\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"登录\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n        type: \"success\",\n        style: {\n          \"width\": \"30%\"\n        },\n        size: \"large\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"重置\")]),\n        _: 1 /* STABLE */\n      })]), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_router_link, {\n        to: \"/\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"返回首页\")]),\n        _: 1 /* STABLE */\n      })])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_tab_pane, {\n      label: \"注册\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form, {\n        model: $setup.registerform,\n        \"label-width\": \"auto\",\n        \"label-position\": \"left\",\n        style: {\n          \"padding\": \"10px 0\"\n        }\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_form_item, {\n          label: \"用户名\",\n          size: \"large\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $setup.registerform.username,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.registerform.username = $event)\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_form_item, {\n          label: \"密码\",\n          size: \"large\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $setup.registerform.password,\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.registerform.password = $event)\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_form_item, {\n          label: \"重复密码\",\n          size: \"large\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $setup.registerform.repassword,\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.registerform.repassword = $event)\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"model\"]), _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $setup.Register,\n        style: {\n          \"width\": \"30%\"\n        },\n        size: \"large\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"注册\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n        type: \"success\",\n        style: {\n          \"width\": \"30%\"\n        },\n        size: \"large\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"重置\")]),\n        _: 1 /* STABLE */\n      })]), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_router_link, {\n        to: \"/\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"返回首页\")]),\n        _: 1 /* STABLE */\n      })])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })])]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_el_tabs","type","stretch","default","_withCtx","_component_el_tab_pane","label","_component_el_form","model","$setup","form","_component_el_form_item","size","_component_el_input","modelValue","username","_cache","$event","_","password","_hoisted_3","_component_el_button","onClick","Login","_createTextVNode","_hoisted_4","_component_router_link","to","registerform","repassword","_hoisted_5","Register","_hoisted_6"],"sources":["D:\\graduate_design\\project\\movieweb\\MovieClient\\movieclient\\src\\views\\Login\\index.vue"],"sourcesContent":["<template>\r\n    <div class=\"background-container \">\r\n\r\n        <div class=\"card\">\r\n            <el-tabs type=\"border-card\" stretch=\"true\" style=\"width: 350px;height: 350px;\">\r\n                <el-tab-pane label=\"登录\">\r\n                    <el-form :model=\"form\" label-width=\"auto\" label-position=\"left\" style=\"padding: 35px 0;\">\r\n                        <el-form-item label=\"用户名\" size=\"large\">\r\n                            <el-input v-model=\"form.username\" />\r\n                        </el-form-item>\r\n                        <el-form-item label=\"密码\" size=\"large\" style=\"margin-top: 30px;\">\r\n                            <el-input v-model=\"form.password\" />\r\n                        </el-form-item>\r\n\r\n                    </el-form>\r\n                    <div class=\"flex-container\">\r\n                        <el-button type=\"primary\" @click=\"Login\" style=\"width: 30%;\" size=\"large\">登录</el-button>\r\n                        <el-button type=\"success\" style=\"width: 30%;\" size=\"large\">重置</el-button>\r\n                    </div>\r\n                    <div style=\"text-align: center; font-size: 13px; color: aliceblue; padding: 20px 0;\"><router-link\r\n                            to=\"/\">返回首页</router-link></div>\r\n                </el-tab-pane>\r\n                <el-tab-pane label=\"注册\">\r\n                    <el-form :model=\"registerform\" label-width=\"auto\" label-position=\"left\" style=\"padding: 10px 0;\">\r\n                        <el-form-item label=\"用户名\" size=\"large\">\r\n                            <el-input v-model=\"registerform.username\" />\r\n                        </el-form-item>\r\n                        <el-form-item label=\"密码\" size=\"large\">\r\n                            <el-input v-model=\"registerform.password\" />\r\n                        </el-form-item>\r\n                        <el-form-item label=\"重复密码\" size=\"large\">\r\n                            <el-input v-model=\"registerform.repassword\" />\r\n                        </el-form-item>\r\n\r\n                    </el-form>\r\n                    <div class=\"flex-container\">\r\n                        <el-button type=\"primary\" @click=\"Register\" style=\"width: 30%;\" size=\"large\">注册</el-button>\r\n                        <el-button type=\"success\" style=\"width: 30%;\" size=\"large\">重置</el-button>\r\n                    </div>\r\n                    <div style=\"text-align: center; font-size: 13px; color: aliceblue; padding: 20px 0;\"><router-link\r\n                            to=\"/\">返回首页</router-link></div>\r\n                </el-tab-pane>\r\n\r\n            </el-tabs>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { reactive } from 'vue';\r\nimport { useRoute, useRouter } from 'vue-router';\r\nimport { useStore } from 'vuex';\r\nimport { h } from 'vue'\r\nimport { ElNotification } from 'element-plus'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nexport default {\r\n    name: \"Login\",\r\n    setup(props, context) {\r\n        const form = reactive({\r\n            username: \"\",\r\n            password: \"\"\r\n        })\r\n        const registerform = reactive({\r\n            username: \"\",\r\n            password: \"\",\r\n            repassword: \"\",\r\n\r\n        })\r\n        const route = useRoute()\r\n        const store = useStore()\r\n        const router = useRouter()\r\n\r\n        const Register = () => {\r\n            if (route.path == \"/login\") {\r\n                const data = {\r\n                    \"username\": registerform.username,\r\n                    \"password\": registerform.password\r\n                }\r\n                // 走用户\r\n                store.dispatch('login/Clientregister', data).then(Response => {\r\n                    console.log(Response);\r\n                    if (Response.code == 200) {\r\n                        ElNotification({\r\n                            title: '提示',\r\n                            message: h('i', { style: 'color: teal' }, '注册成功，请登录'),\r\n                        })\r\n                    } else {\r\n                        ElNotification({\r\n                            title: '提示',\r\n                            message: h('i', { style: 'color: teal' }, '用户名已被注册'),\r\n                        })\r\n                    }\r\n\r\n\r\n                }).catch(error => {\r\n                    console.log(error);\r\n                })\r\n\r\n            } else if (route.path == \"/merchantlogin\") {\r\n                const data = {\r\n                    \"merchant_name\": registerform.username,\r\n                    \"password\": registerform.password\r\n                }\r\n                // 走商家\r\n                store.dispatch('login/Merchantregister', JSON.stringify(data)).then(Response => {\r\n\r\n                    if (Response.code == 200) {\r\n                        ElNotification({\r\n                            title: '提示',\r\n                            message: h('i', { style: 'color: teal' }, '注册成功，请登录'),\r\n                        })\r\n                    } else {\r\n                        ElNotification({\r\n                            title: '提示',\r\n                            message: h('i', { style: 'color: teal' }, '用户名已被注册'),\r\n                        })\r\n                    }\r\n\r\n                    console.log(Response.code);\r\n\r\n                }).catch(error => {\r\n                    console.log(error);\r\n                })\r\n\r\n            }\r\n        }\r\n        const Login = () => {\r\n            if (route.path == \"/login\") {\r\n                const data = {\r\n                    \"username\": form.username,\r\n                    \"password\": form.password\r\n                }\r\n                // 走用户\r\n                store.dispatch('login/ClientLogin', data).then(Response => {\r\n                    if (Response.code == 200) {\r\n                        ElMessage({\r\n                            message: '登录成功',\r\n                            type: 'success',\r\n                        })\r\n                        router.push(\"/home\")\r\n                    }\r\n\r\n                    console.log(Response);\r\n\r\n\r\n                }).catch(error => {\r\n                    console.log(error);\r\n                })\r\n\r\n            } else if (route.path == \"/merchantlogin\") {\r\n                const data = {\r\n                    \"merchant_name\": form.username,\r\n                    \"password\": form.password\r\n                }\r\n                // 走商家\r\n                store.dispatch('login/MerchantLogin', JSON.stringify(data)).then(Response => {\r\n                    if (Response.code == 200) {\r\n                        ElMessage({\r\n                            message: '登录成功',\r\n                            type: 'success',\r\n                        })\r\n                        router.push(\"/admin\")\r\n                    }\r\n\r\n                    console.log(Response);\r\n\r\n                }).catch(error => {\r\n                    console.log(error);\r\n                })\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n        return {\r\n            form,\r\n            registerform,\r\n            Register,\r\n            Login\r\n        }\r\n\r\n    }\r\n\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.card {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 80vh;\r\n    margin: 0;\r\n\r\n\r\n}\r\n\r\n\r\n.flex-container {\r\n    text-align: center;\r\n\r\n}\r\n\r\n\r\n\r\n.background-container {\r\n    background-image: url(\"~@/assets/bg.png\") !important;\r\n\r\n    /* 替换成你想要设置的背景图片路径 */\r\n    background-size: cover;\r\n    height: 100vh;\r\n    /* 可以根据需要调整背景图片的尺寸适应 */\r\n    /* 可以添加其他样式属性，比如背景重复、定位等 */\r\n}\r\n</style>\r\n<style>\r\n.el-tabs {\r\n    background-color: rgba(255, 255, 255, 0.5) !important;\r\n    /* 设置背景颜色为白色，透明度为0.5 */\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}